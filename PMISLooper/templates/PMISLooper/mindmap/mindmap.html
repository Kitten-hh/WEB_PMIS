{% extends 'PMISLooper/index.html' %}
{%load static %}
{% load i18n %}
{% load md5url %}
{%block form_css%}
{{block.super}}
<link href="{% static 'BaseApp/vendor/jquery-splitter/css/jquery.splitter.css'%}" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="{% md5url 'PMISLooper/assets/stylesheets/mindmap/mindmap.css' %}" data-skin="default" /> 
<link rel="stylesheet" type="text/css" href="{% md5url 'PMISLooper/assets/stylesheets/mindmap/mindmap_dark.css' %}" data-skin="dark" /> 
<style>
    {% if hideMenu %}
        #rightPane .card-header,#phoneLeftPanel+.btn-floated,#pc_sidebar {
            display: none !important;
        }
        .sidebar_cust #splitter{
            height: calc(100vh - 3.5rem) !important;
        }        
    {%endif%}
</style>
{%endblock%}

{%  block content %}
{{block.super}}
<div class="page-section d-xl-none">
    <div class="container-fluid p-0">
        <div id="phoneLeftPanel" style="width:100%;height:100vh">

        </div>
        <button class="btn btn-danger btn-floated d-xl-none" type="button"
        data-toggle="sidebar"><i class="fa fa-th-list"></i></button>
    </div>
</div>
<div id="splitter" class>
    <div id="leftPane" style="overflow: unset;">
    </div>
    <div id="rightPane" class="sidebar-section">
        <header class="sidebar-header d-xl-none">
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item active">
                        <a href="#" onclick="Looper.toggleSidebar()"><i
                                class="breadcrumb-icon fa fa-angle-left mr-2"></i>{% trans "Back"%}</a>
                    </li>
                </ol>
            </nav>
            <div class="ml-auto">
                <a href="#" class="card-header-item justify-content-start"><span><i class="fa fa-plus-circle mr-1"></i>
                    {% trans "Add Page"%} </span></a>
            </div>
        </header>
        <div class="sidebar-sec">
            <div id="Optiondiv">

            </div>
            <div class="card-header">
                <a href="#" class="card-header-item justify-content-start"><span><i class="fa fa-plus-circle mr-1"></i>
                    {% trans "Add Page"%} </span></a>
            </div>
            <div class="col_cust">
                <div id="techtree" class="tree-demo mb-1">

                </div>
            </div>
        </div>
    </div>
</div>
<!--
<div class="note_wrap">
    <div class="alert alert-left alert-primary mb-0" role="alert">
        <div class="title_note d-none">注釋</div>
        <div class="note">
            <p class="mb-0"> <em class="text-red">紅色</em>——正在進行的任務</p>
            <p class="mb-0"><em style="color:#ffafaf">粉紅色</em>——已安排的任務</p>
        </div>
    </div>
</div>
-->
<div class="modal fade" id="edit_mindmap_type" tabindex="-1" role="dialog" aria-labelledby="form" aria-hidden="true"
    style="display: none;">
    <div class="modal-dialog modal-dialog-centered col-12">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title"></h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <i class="far fa-times-circle" style="font-size: 20px;color: #fff;"></i>
                </button>
            </div>
            <div class="modal-body">
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="edit_mindmap" tabindex="-1" role="dialog" aria-labelledby="form" aria-hidden="true"
    style="display: none;">
    <div class="modal-dialog modal-dialog-centered col-12">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title"></h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <i class="far fa-times-circle" style="font-size: 20px;color: #fff;"></i>
                </button>
            </div>
            <div class="modal-body">
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="select_folder" tabindex="-1" role="dialog" aria-labelledby="form" aria-hidden="true"
    style="display: none;">
    <div class="modal-dialog modal-dialog-centered col-12">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title"></h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <i class="far fa-times-circle" style="font-size: 20px;color: #fff;"></i>
                </button>
            </div>
            <div class="modal-body">
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="show_edit_session" tabindex="-1" role="dialog" aria-labelledby="form" aria-hidden="true"
    style="display: none;">
    <div class="modal-dialog modal-dialog-centered col-12">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">{% trans "Edit Session"%}</h5>
            </div>
            <div class="modal-body editSessionForm" id="edit_session_form"></div>
        </div>
    </div>
</div>
{%endblock%}
{%block form_js%}
{{block.super}}
<script src="{% md5url 'BaseApp/vendor/jquery-splitter/js/jquery.splitter.js'%}"></script>
<script src="{% md5url 'PMISLooper/assets/javascript/mindmap/mindmap.js'%}"></script>
<script>
    window.dynamic_mindmap_json = `{{dynamic_mindmap_json|safe|default:''}}`;
    $(function () {
        var type = getParamFromUrl("type")
        if (type == "1")
            $("title").html('{% trans "Quarterly Mindmap" %}');
        else if (type == "2")
            $("title").html('{% trans "Solution Mindmap" %}');
        else if (type=="3")
            $("title").html('{% trans "Course Mindmap" %}');
        else 
            $("title").html('{% trans "Project Mindmap" %}');
    });    
</script>
{%endblock%}