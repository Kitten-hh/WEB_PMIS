{% extends 'PMISLooper/index.html' %}
{%load static %}
{% load md5url %}
{%block form_css%}
{{block.super}}
<link href="{% static 'BaseApp/vendor/jquery-splitter/css/jquery.splitter.css'%}" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="{% static 'PMISLooper/assets/stylesheets/mindmap/mindmap.css' %}" />
{%endblock%}

{%  block content %}
{{block.super}}
<div class="page-section d-sm-none">
    <div class="container-fluid py-3">
        <div id="phoneLeftPanel" style="width:100%;height:100vh">

        </div>
        <p class="text-muted"> </p><button class="btn btn-danger btn-floated d-lg-none" type="button"
            data-toggle="sidebar"><i class="fa fa-th-list"></i></button>
    </div>
</div>
<div id="splitter" class>
    <div id="leftPane" style="overflow: unset;">
    </div>
    <div id="rightPane" class="sidebar-section">
        <header class="sidebar-header d-xl-none">
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item active">
                        <a href="#" onclick="Looper.toggleSidebar()"><i
                                class="breadcrumb-icon fa fa-angle-left mr-2"></i>Back</a>
                    </li>
                </ol>
            </nav>
            <div class="ml-auto"> 
                <a href="#" class="card-header-item justify-content-start"><span><i class="fa fa-plus-circle mr-1"></i>
                        添加頁 </span></a>
            </div>
        </header>
        <div class="sidebar-sec">
            <div id="Optiondiv">

            </div>
            <div class="card-header">
                <a href="#" class="card-header-item justify-content-start"><span><i class="fa fa-plus-circle mr-1"></i>
                        添加頁 </span></a>
            </div>
            <div class="col_cust">
                <div id="techtree" class="tree-demo">

                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="edit_mindmap_type" tabindex="-1" role="dialog" aria-labelledby="form" aria-hidden="true"
    style="display: none;">
    <div class="modal-dialog modal-dialog-centered col-12">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title"></h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <i class="far fa-times-circle" style="font-size: 20px;color: #fff;"></i>
                </button>
            </div>
            <div class="modal-body">
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="edit_mindmap" tabindex="-1" role="dialog" aria-labelledby="form" aria-hidden="true"
    style="display: none;">
    <div class="modal-dialog modal-dialog-centered col-12">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title"></h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <i class="far fa-times-circle" style="font-size: 20px;color: #fff;"></i>
                </button>
            </div>
            <div class="modal-body">
            </div>
        </div>
    </div>
</div>

{%endblock%}
{%block form_js%}
<script src="{% md5url 'BaseApp/vendor/jquery-splitter/js/jquery.splitter.js'%}"></script>
<script src="{% md5url 'PMISLooper/assets/javascript/mindmap/mindmap.js'%}"></script>
<script>
    $(function () {
        SWNavigationBar.setMenuItem("mi_13", "Solution_Mindmap", "/looper/solutionType");
        var jsondelete_array = new Array();
        $("#techtree").bind("ready.jstree", function () {
            for (key in jsonarray) {
                key_val = jsonarray[key];
                if (key_val.parent == -1 && key_val.id != 1) {
                    jsondelete_array.push(key_val)
                }
            }
            $("#techtree").jstree(true).delete_node(jsondelete_array);
            var node_id = $("#techtree").jstree(true).get_node("1_anchor");
            $("#techtree").jstree(true).close_all(node_id);
        })

    })
</script>
{%endblock%}